version: 2

commands:
  open_browser:
    parameters:
      browser:
        type: string
        default: "google-chrome"
    steps:
      - run: "echo 'ğŸš€ Launching <<parameters.browser>> for {url}'"

  save_markdown:
    steps:
      - run: "echo 'ğŸ“ Mock saving markdown for {url}'"

jobs:
  default_job:
    steps:
      - open_browser:
          browser: "firefox"

  work_job:
    steps:
      - run: "echo 'ğŸ’¼ Work Mode Active'"
      - open_browser:
          browser: "chromium"

  reading_job:
    steps:
      - save_markdown

workflows:
  main_pipeline:
    jobs:
      - work_job:
          match: ".*jira.*"
      - reading_job:
          match: "medium.com"
      - default_job:
          match: ".*"
